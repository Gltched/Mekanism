plugins {
	id "java"
	id "java-library"
	id 'fabric-loom' apply false
}

allprojects {
	apply plugin: "fabric-loom"

	version = "1.0.0"

	tasks.withType(JavaCompile).configureEach {
		def targetVersion = 16
	sourceCompatibility = JavaVersion.VERSION_16
	targetCompatibility = JavaVersion.VERSION_16
		it.options.encoding = "UTF-8"
	}

	dependencies {
		minecraft "com.mojang:minecraft:${project.minecraft_version}"
		mappings "net.fabricmc:yarn:${project.yarn_mappings}:v2"
		modImplementation "net.fabricmc:fabric-loader:${project.loader_version}"

		modImplementation "net.fabricmc.fabric-api:fabric-api:${project.fabric_version}"

	}

	jar {
		archiveClassifier.set "dev"
	}

	loom {

	}

	java {
		withSourcesJar()
	}

}

dependencies {
	afterEvaluate {
		subprojects.each {
			include project("${it.name}:")
		}
	}
}

archivesBaseName = "multiproject"
version = "1.0.0"